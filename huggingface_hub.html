

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Integration with HuggingFace’s Model Hub &mdash; adapter-transformers  documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/favicon.png"/>
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script src="_static/clipboard.min.js"></script>
        <script src="_static/copybutton.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"processClass": "tex2jax_process|mathjax_process|math|output_area"}})</script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Model Overview" href="model_overview.html" />
    <link rel="prev" title="Contributing Adapters to the Hub" href="hub_contributing.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> adapter-transformers
          

          
            
            <img src="_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="training.html">Adapter Training</a></li>
</ul>
<p class="caption"><span class="caption-text">Adapter Methods</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview and Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="methods.html">Adapter Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="method_combinations.html">Method Combinations</a></li>
</ul>
<p class="caption"><span class="caption-text">Advanced</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="adapter_composition.html">Adapter Activation and Composition</a></li>
<li class="toctree-l1"><a class="reference internal" href="prediction_heads.html">Prediction Heads</a></li>
<li class="toctree-l1"><a class="reference internal" href="embeddings.html">Embeddings</a></li>
<li class="toctree-l1"><a class="reference internal" href="extending.html">Extending the Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="transitioning.html">Transitioning from Earlier Versions</a></li>
</ul>
<p class="caption"><span class="caption-text">Loading and Sharing</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="loading.html">Loading Pre-Trained Adapters</a></li>
<li class="toctree-l1"><a class="reference internal" href="hub_contributing.html">Contributing Adapters to the Hub</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Integration with HuggingFace’s Model Hub</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#downloading-from-the-hub">Downloading from the Hub</a></li>
<li class="toctree-l2"><a class="reference internal" href="#uploading-to-the-hub">Uploading to the Hub</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Supported Models</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="model_overview.html">Model Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="classes/models/albert.html">ALBERT</a></li>
<li class="toctree-l1"><a class="reference internal" href="classes/models/auto.html">Auto Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="classes/models/bart.html">BART</a></li>
<li class="toctree-l1"><a class="reference internal" href="classes/models/beit.html">Bidirectional Encoder representation from Image Transformers (BEiT)</a></li>
<li class="toctree-l1"><a class="reference internal" href="classes/models/bert.html">BERT</a></li>
<li class="toctree-l1"><a class="reference internal" href="classes/models/bert-generation.html">BertGeneration</a></li>
<li class="toctree-l1"><a class="reference internal" href="classes/models/clip.html">CLIP</a></li>
<li class="toctree-l1"><a class="reference internal" href="classes/models/deberta.html">DeBERTa</a></li>
<li class="toctree-l1"><a class="reference internal" href="classes/models/deberta_v2.html">DeBERTa-v2</a></li>
<li class="toctree-l1"><a class="reference internal" href="classes/models/distilbert.html">DistilBERT</a></li>
<li class="toctree-l1"><a class="reference internal" href="classes/models/encoderdecoder.html">Encoder Decoder Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="classes/models/gpt2.html">OpenAI GPT2</a></li>
<li class="toctree-l1"><a class="reference internal" href="classes/models/gptj.html">EleutherAI GPT-J-6B</a></li>
<li class="toctree-l1"><a class="reference internal" href="classes/models/mbart.html">MBart</a></li>
<li class="toctree-l1"><a class="reference internal" href="classes/models/roberta.html">RoBERTa</a></li>
<li class="toctree-l1"><a class="reference internal" href="classes/models/t5.html">T5</a></li>
<li class="toctree-l1"><a class="reference internal" href="classes/models/vit.html">Vision Transformer (ViT)</a></li>
<li class="toctree-l1"><a class="reference internal" href="classes/models/xlmroberta.html">XLM-RoBERTa</a></li>
</ul>
<p class="caption"><span class="caption-text">Adapter-Related Classes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="classes/adapter_config.html">Adapter Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="classes/model_adapters_config.html">Model Adapters Config</a></li>
<li class="toctree-l1"><a class="reference internal" href="classes/adapter_modules.html">Adapter Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="classes/adapter_layer.html">AdapterLayer</a></li>
<li class="toctree-l1"><a class="reference internal" href="classes/model_mixins.html">Model Mixins</a></li>
<li class="toctree-l1"><a class="reference internal" href="classes/adapter_training.html">Adapter Training</a></li>
<li class="toctree-l1"><a class="reference internal" href="classes/adapter_utils.html">Adapter Utilities</a></li>
</ul>
<p class="caption"><span class="caption-text">Contributing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing to AdapterHub</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing/adding_adapter_methods.html">Adding Adapter Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing/adding_adapters_to_a_model.html">Adding Adapters to a Model</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">adapter-transformers</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Integration with HuggingFace’s Model Hub</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/huggingface_hub.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="tex2jax_ignore mathjax_ignore section" id="integration-with-huggingface-s-model-hub">
<h1>Integration with HuggingFace’s Model Hub<a class="headerlink" href="#integration-with-huggingface-s-model-hub" title="Permalink to this headline">¶</a></h1>
<div class="figure align-center">
<img alt="HuggingFace Hub logo." src="_images/hfhub.svg" /></div>
<p>Starting with v2.1 of <code class="docutils literal notranslate"><span class="pre">adapter-transformers</span></code>, you can download adapters from and upload them to <a class="reference external" href="https://huggingface.co/models">HuggingFace’s Model Hub</a>.
This document describes how to interact with the Model Hub when working with adapters.</p>
<div class="section" id="downloading-from-the-hub">
<h2>Downloading from the Hub<a class="headerlink" href="#downloading-from-the-hub" title="Permalink to this headline">¶</a></h2>
<p>The HuggingFace Model Hub already provides a few pre-trained adapters available for download.
To search for available adapters, use the <em>Adapter Transformers</em> library filter on the Model Hub website or use this link: <a class="reference external" href="https://huggingface.co/models?filter=adapter-transformers">https://huggingface.co/models?filter=adapter-transformers</a>.
Alternatively, all adapters on the HuggingFace Model Hub are also listed on <a class="reference external" href="https://adapterhub.ml/explore">https://adapterhub.ml/explore</a> together with all adapters directly uploaded to AdapterHub.</p>
<p>After you have found an adapter you would like to use, loading it into a Transformer model is very similar to <a class="reference internal" href="loading.html"><span class="doc std std-doc">loading adapters from AdapterHub</span></a>.
For example, for loading and activating the adapter <a class="reference external" href="https://huggingface.co/AdapterHub/roberta-base-pf-sick"><code class="docutils literal notranslate"><span class="pre">AdapterHub/roberta-base-pf-sick</span></code></a>, write:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">transformers</span> <span class="kn">import</span> <span class="n">AutoAdapterModel</span>

<span class="n">model</span> <span class="o">=</span> <span class="n">AutoAdapterModel</span><span class="o">.</span><span class="n">from_pretrained</span><span class="p">(</span><span class="s2">&quot;roberta-base&quot;</span><span class="p">)</span>
<span class="n">adapter_name</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">load_adapter</span><span class="p">(</span><span class="s2">&quot;AdapterHub/roberta-base-pf-sick&quot;</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="s2">&quot;hf&quot;</span><span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">active_adapters</span> <span class="o">=</span> <span class="n">adapter_name</span>
</pre></div>
</div>
<p>Note that <code class="docutils literal notranslate"><span class="pre">source=&quot;hf&quot;</span></code> is the only change from loading an adapter from AdapterHub.</p>
</div>
<div class="section" id="uploading-to-the-hub">
<h2>Uploading to the Hub<a class="headerlink" href="#uploading-to-the-hub" title="Permalink to this headline">¶</a></h2>
<p>HuggingFace’s Model Hub provides a convenient way for everyone to upload their pre-trained models and share them with the world.
Of course, this is also possible with adapters now!
In the following, we’ll go through the fastest way of uploading an adapter directly via Python in the <code class="docutils literal notranslate"><span class="pre">adapter-transformers</span></code> library.
For more options and information, e.g. for managing models via the CLI and Git, refer to <a class="reference external" href="https://huggingface.co/transformers/model_sharing.html">HugginFace’s documentation</a>.</p>
<ol class="arabic">
<li><p><strong>Prepare access credentials</strong>: Before being able to push to the HuggingFace Model Hub for the first time, we have to store our access token in the cache.
This can be done via the <code class="docutils literal notranslate"><span class="pre">transformers-cli</span></code> by running:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">transformers</span><span class="o">-</span><span class="n">cli</span> <span class="n">login</span>
</pre></div>
</div>
</li>
<li><p><strong>Push an adapter</strong>: Next, we can proceed to upload our first adapter.
Let’s say we have a standard pre-trained Transformers model with an existing adapter named <code class="docutils literal notranslate"><span class="pre">awesome_adapter</span></code> (e.g. added via <code class="docutils literal notranslate"><span class="pre">model.add_adapter(&quot;awesome_adapter&quot;)</span></code> and <a class="reference internal" href="training.html"><span class="doc std std-doc">trained</span></a> afterwards).
We can now push this adapter to the Model Hub using <code class="docutils literal notranslate"><span class="pre">model.push_adapter_to_hub()</span></code> like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">push_adapter_to_hub</span><span class="p">(</span>
    <span class="s2">&quot;my-awesome-adapter&quot;</span><span class="p">,</span>
    <span class="s2">&quot;awesome_adapter&quot;</span><span class="p">,</span>
    <span class="n">adapterhub_tag</span><span class="o">=</span><span class="s2">&quot;sentiment/imdb&quot;</span><span class="p">,</span>
    <span class="n">datasets_tag</span><span class="o">=</span><span class="s2">&quot;imdb&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
<p>This will create a repository <code class="docutils literal notranslate"><span class="pre">my-awesome-adapter</span></code> under your username, generate a default adapter card as <code class="docutils literal notranslate"><span class="pre">README.md</span></code> and upload the adapter named <code class="docutils literal notranslate"><span class="pre">awesome_adapter</span></code> together with the adapter card to the new repository.
<code class="docutils literal notranslate"><span class="pre">adapterhub_tag</span></code> and <code class="docutils literal notranslate"><span class="pre">datasets_tag</span></code> provide additional information for categorization.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>All adapters uploaded to HuggingFace’s Model Hub are automatically also listed on AdapterHub.ml. Thus, for better categorization, either <code class="docutils literal notranslate"><span class="pre">adapterhub_tag</span></code> or <code class="docutils literal notranslate"><span class="pre">datasets_tag</span></code> is required when uploading a new adapter to the Model Hub.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">adapterhub_tag</span></code> specifies the AdapterHub categorization of the adapter in the format <code class="docutils literal notranslate"><span class="pre">&lt;task&gt;/&lt;subtask&gt;</span></code> according to the tasks and subtasks shown on <a class="reference external" href="https://adapterhub.ml/explore">https://adapterhub.ml/explore</a>. For more, see <a class="reference external" href="https://docs.adapterhub.ml/contributing.html#add-a-new-task-or-subtask">Add a new task or subtask</a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">datasets_tag</span></code> specifies the dataset the adapter was trained on as an identifier from <a class="reference external" href="https://huggingface.co/datasets">HuggingFace Datasets</a>.</p></li>
</ul>
</div>
</li>
</ol>
<p>Voilà! Your first adapter is on the HuggingFace Model Hub.
Anyone can now run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">load_adapter</span><span class="p">(</span><span class="s2">&quot;&lt;your_username&gt;/my-awesome-adapter&quot;</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="s2">&quot;hf&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>To update your adapter, simply run <code class="docutils literal notranslate"><span class="pre">push_adapter_to_hub()</span></code> with the same repository name again. This will push a new commit to the existing repository.</p>
<p>You can find the full documentation of <code class="docutils literal notranslate"><span class="pre">push_adapter_to_hub()</span></code> <a class="reference internal" href="classes/model_mixins.html#transformers.adapters.hub_mixin.PushAdapterToHubMixin.push_adapter_to_hub" title="transformers.adapters.hub_mixin.PushAdapterToHubMixin.push_adapter_to_hub"><span class="xref myst py py-meth">here</span></a>.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="model_overview.html" class="btn btn-neutral float-right" title="Model Overview" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="hub_contributing.html" class="btn btn-neutral float-left" title="Contributing Adapters to the Hub" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020-2022, Adapter-Hub Team

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  <!--- IMPORTANT: This file has modifications compared to the snippet on the documentation page! -->
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Versions</span>
    v: master
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
      <dt>Branches</dt>
      <dd><a href="huggingface_hub.html">master</a></dd>
    </dl>
  </div>
</div>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>